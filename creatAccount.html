<!DOCTYPE html>
<html lang="ar">

<head>
    <meta http-equiv="refresh" content="360"> <!-- to refresh the page every 360 seconds -->
    <meta charset="UTF-8">
    <title>تسجيل حساب</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="Regester">
        <p>لست عضوًا حتى الآن؟</p>
        <form  id="form" >
            <div class="myinputBox">
                <label>
                    <input id="Name1" type="text" placeholder="الاسم الأول *">
                    
                    <p id="p1"></p>
                    <div class="icons-User-Lock"> <i class='bx bxs-user'></i></div>
                    <div class="error"></div>
                </label>
            </div>

            <div class="myinputBox">
                <label>
                    <input id="Name2" type="text" placeholder="الاسم الأخير *" >
                    <p id="p2"></p>
                    <div class="icons-User-Lock"> <i class='bx bxs-user'></i></div>
                    <div class="error"></div>
                </label>
            </div>

            <div class="myBirth">
                <label>:تاريخ الميلاد</label>
            </div>
            <br>
            <div class="myDate">
                <input type="date">
            </div>
            <br>

            <div class="myinputBox">
                <label>
                    <input id="email" type="email" placeholder="البريد الإلكتروني *" >
                    <div class="icons-user-Lock"> <i class='bx bxs-user'></i></div>
                    <div class="error"></div>
                </label>
            </div>

            <div class="myinputBox">
                <input id="tel" type="text" placeholder="رقم الهاتف *" >
                <div class="error"></div>
            </div>

            <div class="gender">
                <input type="text" id="الجنس" placeholder="الجنس" list="gender">
                <datalist name="الجنس" id="gender">
                    <option value="أنثى">
                    <option value="ذكر">
                </datalist>
            </div>

            <div class="myinputBox">
                <input id="bass" type="password" placeholder="كلمة المرور *" >
                <div class="error"></div>
            </div>

            <div class="myinputBox">
                <input id="cpass" type="password" placeholder="تأكيد كلمة المرور *" >
                <div class="error"></div>
            </div>

            <div class="mybutton" id="mybutton">
                <button type="submit" class="btnn">تسجيل</button>
            </div>
        </form>
    </div>

    <script>
        const form = document.getElementById("form");

        form.addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent form submission by default
            validateInput();
        });

        function setError(element, message) {
            const inputControl = element.parentElement;
            const errorDisplay = inputControl.querySelector(".error");

            errorDisplay.innerText = message;
            inputControl.classList.add("error");
            inputControl.classList.remove("success");
        }

        function setSuccess(element) {
            const inputControl = element.parentElement;
            const errorDisplay = inputControl.querySelector(".error");

            errorDisplay.innerText = ""; // Clear any existing error message
            inputControl.classList.add("success");
            inputControl.classList.remove("error");
        }

        function validateInput() {
            const Name1 = document.getElementById("Name1");
            const Name2 = document.getElementById("Name2");
            const email = document.getElementById("email");
            const tel = document.getElementById("tel");
            const pass = document.getElementById("bass");
            const cpass = document.getElementById("cpass");

            if (Name1.value.trim() === "") {
                setError(Name1, "الاسم الأول مطلوب");
            } else {
                setSuccess(Name1);
            }

            if (Name2.value.trim() === "") {
                setError(Name2, "الاسم الأخير مطلوب");
            } else {
                setSuccess(Name2);
            }

            if (email.value.trim() === "") {
                setError(email, "البريد الإلكتروني مطلوب");
            } else {
                setSuccess(email);
            }

            if (tel.value.trim() === "") {
                setError(tel, "رقم الهاتف مطلوب");
            } else {
                setSuccess(tel);
            }

            if (pass.value.trim() === "") {
                setError(pass, "كلمة المرور مطلوبة");
            } else if (pass.value.trim().length < 5) {
                setError(pass, " يجب ان تتكون كلمة المرور من 5 أحرف على الأقل");
            } else {
                setSuccess(pass);
            }
            if (cpass.value.trim() === "") {
                setError(cpass, "تأكيد كلمه المرور مطلوب ");
            } else if (cpass.value.trim() !== pass.value.trim()) {
                setError(cpass,"يجب ان يتطايق الرقم مع كلمه المرور " );
            } else {
                setSuccess(cpass);
            }

           
        }
    </script>

</body>

</html>
